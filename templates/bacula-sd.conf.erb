### File managed with puppet ###
### Served by:        '<%= scope.lookupvar('::servername') %>'
### Module:           '<%= scope.to_hash['module_name'] %>'
### Template source:  '<%= template_source %>'

#
# Storage Daemon configuration
#

Storage {
  Name                    = <%= sd_label %>
  SDPort                  = <%= sd_port %>
  WorkingDirectory        = <%= working_dir %>
  Pid Directory           = <%= pid_dir %>
  Maximum Concurrent Jobs = <%= max_concurrent_jobs %>
}

#
# List Directors who are permitted to contact Storage Daemon
#

Director {
  Name                    = "<%= director_label %>"
  Password                = "<%= director_password %>"
}

#
# Logging
#

Messages {
  Name                    = <%= log_output %>
  director                = <%= director_label %> = all
}

#
# Load files in <%= config_dir %>/devices.d
#
@|"sh -c 'for f in <%= config_dir %>/devices.d/*.conf; do echo @${f}; done'"
